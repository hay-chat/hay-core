# Server Configuration
NODE_ENV=development
PORT=3000
HOST=localhost

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=hay
DB_PASSWORD=hay_password
DB_NAME=hay_db
DB_SSL=false
DB_LOGGING=false
DB_MAX_CONNECTIONS=10
DB_CONNECTION_TIMEOUT=60000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TLS=false

# JWT Configuration
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production
JWT_REFRESH_EXPIRES_IN=30d

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_CHAT_MODEL=gpt-4o

# Embedding Configuration
EMBEDDING_DIM=1536

# Organization Configuration
ORGANIZATION_EXTRACTION_METHOD=subdomain,header,jwt
DEFAULT_ORGANIZATION=default

# Domain Configuration
BASE_DOMAIN=hay.local
APP_PROTOCOL=http

# Service Domains (for self-hosted deployments)
API_DOMAIN=localhost:3001
DASHBOARD_DOMAIN=localhost:3000
CDN_DOMAIN=cdn.hay.chat
USE_SSL=false

# CORS Configuration
CORS_ORIGIN=http://localhost:3001,http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=debug
DEBUG=false  # Set to true to enable ALL debug logging (including OpenAI SDK and other Node.js modules)

# Debug Module Filtering (auto-enables debug logging when set to non-"*" value)
# IMPORTANT: Setting DEBUG_MODULES to anything other than "*" will enable debug logging
# for your app WITHOUT setting DEBUG=true, which avoids OpenAI SDK debug logs.
#
# Examples:
# DEBUG_MODULES="*" - Show all modules (requires DEBUG=true to work)
# DEBUG_MODULES="perception,retrieval,execution" - Only show these modules (auto-enables debugging)
# DEBUG_MODULES="!redis,!websocket" - Show all EXCEPT redis and websocket (auto-enables debugging)
# DEBUG_MODULES="orchestrator,!conversation" - Show orchestrator but not conversation (auto-enables debugging)
#
# To avoid OpenAI debug logs, use DEBUG_MODULES instead of DEBUG=true:
# DEBUG_MODULES="!redis"  # Shows everything except redis, without OpenAI logs
DEBUG_MODULES="*"

# Conversation options
CONVERSATION_COOLDOWN_INTERVAL=10000 # 10s
CONVERSATION_INACTIVITY_INTERVAL=1800000 # 30min

# SMTP Email Configuration
# Enable/disable SMTP email sending
SMTP_ENABLED=false

# SMTP Server Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false  # true for 465, false for other ports

# SMTP Authentication
# For Gmail: use your email and an app-specific password
# For SendGrid: use 'apikey' as username and your API key as password
# For AWS SES: use your SMTP credentials
SMTP_AUTH_USER=your-email@gmail.com
SMTP_AUTH_PASS=your-app-specific-password

# Default Sender Information
SMTP_FROM_EMAIL=noreply@updates.hay.chat
SMTP_FROM_NAME=Hay

# Common SMTP Providers Configuration Examples:
# 
# Gmail:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_AUTH_USER=your-email@gmail.com
# SMTP_AUTH_PASS=your-app-specific-password
#
# SendGrid:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_AUTH_USER=apikey
# SMTP_AUTH_PASS=your-sendgrid-api-key
#
# AWS SES:
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_AUTH_USER=your-ses-smtp-username
# SMTP_AUTH_PASS=your-ses-smtp-password
#
# Mailgun:
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_AUTH_USER=postmaster@your-domain.mailgun.org
# SMTP_AUTH_PASS=your-mailgun-password

# Stripe Configuration (for Cloud Plugin - Billing)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_STARTER_PRICE_ID=price_starter_id
STRIPE_PROFESSIONAL_PRICE_ID=price_professional_id
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise_id

# Plugin OAuth Configuration
# OAuth is configured per-plugin using environment variables
# Format: {PLUGIN_ID}_OAUTH_CLIENT_ID and optionally {PLUGIN_ID}_OAUTH_CLIENT_SECRET
#
# For CIMD (Client ID Metadata Document) plugins like Stripe:
#   - Set only the CLIENT_ID to your OAuth redirect URI
#   - CLIENT_SECRET is not needed
#   - Example: STRIPE_OAUTH_CLIENT_ID=https://api.hay.chat/oauth/callback
#
# For traditional OAuth plugins:
#   - Set both CLIENT_ID and CLIENT_SECRET
#   - Example: PLUGIN_OAUTH_CLIENT_ID=your_client_id
#   - Example: PLUGIN_OAUTH_CLIENT_SECRET=your_client_secret
#
# If OAuth env vars are not set, the plugin will use API key authentication instead
# OAuth UI will only appear in the dashboard when the CLIENT_ID is configured
#
# Stripe MCP Plugin OAuth (CIMD - production/managed deployments only)
# Note: Your redirect URI must be allowlisted by Stripe (contact mcp@stripe.com)
# STRIPE_OAUTH_CLIENT_ID=https://api.hay.chat/oauth/callback